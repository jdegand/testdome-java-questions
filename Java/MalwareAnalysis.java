import java.util.Arrays;

public class MalwareAnalysis {

  public static int[] simulate(final int[] entries) {
    final int[] result = Arrays.copyOf(entries, entries.length);
    for (int i = 0; i < entries.length; i++) {
      final int entry = entries[i];
      final int leftIndex = i - 3;
      final int rightIndex = i + 4;

      if (leftIndex >= 0 && entries[leftIndex] >= entry) {
        result[i] = 0;
      }

      if (rightIndex < entries.length && entries[rightIndex] >= entry) {
        result[i] = 0;
      }
    }
    return result;
  }

  public static void main(String[] args) {
    final int[] records = { 19, 2, 0, 87, 1, 40, 80, 77, 77, 77, 77 };
    System.out.println(Arrays.toString(simulate(records)));
    // Expected output
    // [19, 0, 0, 87, 0, 0, 0, 77, 77, 0, 0]
  }
}
